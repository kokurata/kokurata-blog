<div class="widget-wrap">
  <h3 class="widget-title">カテゴリ</h3>
  <div class="widget">
    {% assign categories = site.categories | sort %}
    {% if categories.size > 0 %}
      <ul>
        {% for category in categories %}
          <li>
            <a href="{{ '/categories/#' | append: category[0] | slugify | relative_url }}">{{ category[0] }}</a>
            <span class="category-list-count">{{ category[1].size }}</span>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>カテゴリはありません</p>
    {% endif %}
  </div>
</div>

<div class="widget-wrap">
  <h3 class="widget-title">タグ</h3>
  <div class="widget">
    {% assign tags = site.tags | sort %}
    {% if tags.size > 0 %}
      <ul>
        {% for tag in tags %}
          <li>
            <a href="{{ '/tags/#' | append: tag[0] | slugify | relative_url }}">{{ tag[0] }}</a>
            <span class="tag-list-count">{{ tag[1].size }}</span>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>タグはありません</p>
    {% endif %}
  </div>
</div>

<div class="widget-wrap">
  <h3 class="widget-title">最近の投稿</h3>
  <div class="widget">
    {% if site.posts.size > 0 %}
      <ul>
        {% for post in site.posts limit:5 %}
          <li>
            <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>投稿はありません</p>
    {% endif %}
  </div>
</div>

<div class="widget-wrap">
  <h3 class="widget-title">アーカイブ</h3>
  <div class="widget">
    {% assign posts_by_year = site.posts | group_by_exp: "post", "post.date | date: '%Y'" %}
    {% if posts_by_year.size > 0 %}
      <ul>
        {% for year in posts_by_year %}
          <li>
            <a href="{{ '/archives/#' | append: year.name | relative_url }}">{{ year.name }}年</a>
            <span class="archive-list-count">{{ year.items.size }}</span>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>アーカイブはありません</p>
    {% endif %}
  </div>
</div>
