---
layout: default
---

<div id="main">
  <div class="archive">
    {% if site.posts.size > 0 %}
      {% for post in site.posts %}
        <article class="archive-article archive-type-post">
          <div class="archive-article-inner">
            <div class="article-meta">
              <a href="{{ post.url | relative_url }}" class="article-date">
                <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%m月%d日" }}</time>
              </a>
              {% if post.categories and post.categories.size > 0 %}
                <div class="article-category">
                  {% for category in post.categories %}
                    <a href="/categories/#{{ category | slugify }}" class="article-category-link">{{ category }}</a>
                  {% endfor %}
                </div>
              {% endif %}
            </div>
            <div class="article-inner">
              <header class="article-header">
                <h1 class="article-title">
                  <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                </h1>
              </header>
              <div class="article-entry">
                {% if post.excerpt %}
                  {{ post.excerpt }}
                  <p class="article-more-link">
                    <a href="{{ post.url | relative_url }}#more">続きを読む</a>
                  </p>
                {% else %}
                  <p>{{ post.content | strip_html | truncatewords: 50 }}</p>
                  <p class="article-more-link">
                    <a href="{{ post.url | relative_url }}">続きを読む</a>
                  </p>
                {% endif %}
              </div>
              <footer class="article-footer">
                <a data-url="{{ site.url }}{{ post.url }}" class="article-share-link">
                  <span class="share-icon">共有</span>
                </a>
                {% if post.tags and post.tags.size > 0 %}
                  <div class="article-tag-list">
                    {% for tag in post.tags %}
                      <a href="/tags/#{{ tag | slugify }}" class="article-tag-list-link">#{{ tag }}</a>
                    {% endfor %}
                  </div>
                {% endif %}
              </footer>
            </div>
          </div>
        </article>
      {% endfor %}
    {% else %}
      <div class="no-posts">
        <h2>投稿がありません</h2>
        <p>まだブログ投稿がありません。最初の投稿を作成してください。</p>
      </div>
    {% endif %}
  </div>
</div>

<aside id="sidebar">
  <div class="widget-wrap">
    <h3 class="widget-title">カテゴリ</h3>
    <div class="widget">
      {% assign categories = site.categories | sort %}
      {% if categories.size > 0 %}
        <ul>
          {% for category in categories %}
            <li>
              <a href="/categories/#{{ category[0] | slugify }}">{{ category[0] }}</a>
              <span class="category-list-count">{{ category[1].size }}</span>
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p>カテゴリはありません</p>
      {% endif %}
    </div>
  </div>

  <div class="widget-wrap">
    <h3 class="widget-title">タグ</h3>
    <div class="widget">
      {% assign tags = site.tags | sort %}
      {% if tags.size > 0 %}
        <ul>
          {% for tag in tags %}
            <li>
              <a href="/tags/#{{ tag[0] | slugify }}">{{ tag[0] }}</a>
              <span class="tag-list-count">{{ tag[1].size }}</span>
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p>タグはありません</p>
      {% endif %}
    </div>
  </div>

  <div class="widget-wrap">
    <h3 class="widget-title">最近の投稿</h3>
    <div class="widget">
      {% if site.posts.size > 0 %}
        <ul>
          {% for post in site.posts limit:5 %}
            <li>
              <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p>投稿はありません</p>
      {% endif %}
    </div>
  </div>

  <div class="widget-wrap">
    <h3 class="widget-title">アーカイブ</h3>
    <div class="widget">
      {% assign posts_by_year = site.posts | group_by_exp: "post", "post.date | date: '%Y'" %}
      {% if posts_by_year.size > 0 %}
        <ul>
          {% for year in posts_by_year %}
            <li>
              <a href="/archives/#{{ year.name }}">{{ year.name }}年</a>
              <span class="archive-list-count">{{ year.items.size }}</span>
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p>アーカイブはありません</p>
      {% endif %}
    </div>
  </div>
</aside>
